<div class="section-header flex flex-row">
	<a class="cb-link" hx-get="system_admin/hx/tab?tab=UserList" hx-target="#system_admin_user">User Management</a>
	&nbsp;&rsaquo;&nbsp;
	{{ target_user }}
</div>
<div class="mb-4">
	<form class="flex flex-col gap-8" hx-patch="system_admin/hx/user" hx-target="#response-message"
		hx-swap="innerHTML">
		<input type="hidden" name="email" value="{{ target_user }}">
		<input type="hidden" name="last_updated_by" value="{{ subject }}">
		<div>
			<label for="user_type_select">User Type</label>
			<select id="user_type_select" class="w-full" name="user_type" _="on change log my.value"
				{# Hyperscript action: Log selected value on change #}>
				{% for item in user_items %}
				<option value="{{ item }}">
					{{ item }}
				</option>
				{% endfor %}
			</select>
		</div>

		<div>
			<label for="user_group_select">User Group</label>
			<select id="user_group_select" class="w-full" name="groups" class="cb-dropdown" _="on change log my.value"
				{# Hyperscript action: Log selected value on change #}>
				{% for item in group_items %}
				<option value="{{ item }}">
					{{ item }}
				</option>
				{% endfor %}
			</select>
		</div>

		<div class="cb-button-wrap">
			<button type="submit" class="cb_button">Save</button>
			<button class="cb_button secondary" hx-get="system_admin/hx/tab?tab=UserList" hx-target="#system_admin_user">Cancel</button>
		</div>

		<a class="text-red-600 mt-12"
			hx-delete="/portal/system_admin/hx/user?email={{ target_user }}&last_updated_by=system"
			hx-confirm="Are you sure you want to delete {{ target_user }}?">
			Delete user
		</a>
	</form>
	<div id="response-message" class="mt-4 text-green-600">
	</div>
</div>
